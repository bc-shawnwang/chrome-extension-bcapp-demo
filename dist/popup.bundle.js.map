{"version":3,"file":"popup.bundle.js","mappings":"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","sources":["webpack://zest/./constants.js","webpack://zest/./node_modules/@pgrabovets/json-view/dist/jsonview.js","webpack://zest/webpack/bootstrap","webpack://zest/webpack/runtime/compat get default export","webpack://zest/webpack/runtime/define property getters","webpack://zest/webpack/runtime/hasOwnProperty shorthand","webpack://zest/webpack/runtime/make namespace object","webpack://zest/./popup/popup.js"],"sourcesContent":["export const actions = {\n    getCart: 'get-primary-cart',\n    createCart: 'create-primary-cart',\n};\n","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.jsonview=n():e.jsonview=n()}(self,(function(){return(()=>{\"use strict\";var e={767:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([e.id,'.json-container{font-family:\"Open Sans\";font-size:16px;background-color:#fff;color:gray;box-sizing:border-box}.json-container .line{margin:4px 0;display:flex;justify-content:flex-start}.json-container .caret-icon{width:18px;text-align:center;cursor:pointer}.json-container .empty-icon{width:18px}.json-container .json-type{margin-right:4px;margin-left:4px}.json-container .json-key{color:#444;margin-right:4px;margin-left:4px}.json-container .json-index{margin-right:4px;margin-left:4px}.json-container .json-value{margin-left:8px}.json-container .json-number{color:#f9ae58}.json-container .json-boolean{color:#ec5f66}.json-container .json-string{color:#86b25c}.json-container .json-size{margin-right:4px;margin-left:4px}.json-container .hidden{display:none}.json-container .fas{display:inline-block;border-style:solid;width:0;height:0}.json-container .fa-caret-down{border-width:6px 5px 0 5px;border-color:gray transparent}.json-container .fa-caret-right{border-width:5px 0 5px 6px;border-color:transparent transparent transparent gray}',\"\"]);const s=a},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=\"\",r=void 0!==n[5];return n[4]&&(t+=\"@supports (\".concat(n[4],\") {\")),n[2]&&(t+=\"@media \".concat(n[2],\" {\")),r&&(t+=\"@layer\".concat(n[5].length>0?\" \".concat(n[5]):\"\",\" {\")),t+=e(n),r&&(t+=\"}\"),n[2]&&(t+=\"}\"),n[4]&&(t+=\"}\"),t})).join(\"\")},n.i=function(e,t,r,o,i){\"string\"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]=\"@layer\".concat(d[5].length>0?\" \".concat(d[5]):\"\",\" {\").concat(d[1],\"}\")),d[5]=i),t&&(d[2]?(d[1]=\"@media \".concat(d[2],\" {\").concat(d[1],\"}\"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]=\"@supports (\".concat(d[4],\") {\").concat(d[1],\"}\"),d[4]=o):d[4]=\"\".concat(o)),n.push(d))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,p=\"\".concat(l,\" \").concat(d);i[l]=d+1;var u=t(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(f);else{var v=o(f,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:v,references:1})}a.push(p)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=t(i[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement(\"style\");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute(\"nonce\",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r=\"\";t.supports&&(r+=\"@supports (\".concat(t.supports,\") {\")),t.media&&(r+=\"@media \".concat(t.media,\" {\"));var o=void 0!==t.layer;o&&(r+=\"@layer\".concat(t.layer.length>0?\" \".concat(t.layer):\"\",\" {\")),r+=t.css,o&&(r+=\"}\"),t.media&&(r+=\"}\"),t.supports&&(r+=\"}\");var i=t.sourceMap;i&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{t.r(r),t.d(r,{collapse:()=>$,create:()=>O,default:()=>I,destroy:()=>z,expand:()=>P,render:()=>A,renderJSON:()=>N});var e=t(379),n=t.n(e),o=t(795),i=t.n(o),a=t(569),s=t.n(a),c=t(565),l=t.n(c),d=t(216),p=t.n(d),u=t(589),f=t.n(u),v=t(767),y={};function h(e){return Array.isArray(e)?\"array\":null===e?\"null\":typeof e}function m(e){return document.createElement(e)}y.styleTagTransform=f(),y.setAttributes=l(),y.insert=s().bind(null,\"head\"),y.domAPI=i(),y.insertStyleElement=p(),n()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;const x=\"hidden\",g=\"fa-caret-right\",j=\"fa-caret-down\";function b(e){e.children.forEach((e=>{e.el.classList.add(x),e.isExpanded&&b(e)}))}function E(e){e.children.forEach((e=>{e.el.classList.remove(x),e.isExpanded&&E(e)}))}function S(e){if(e.children.length>0){const n=e.el.querySelector(\".fas\");n&&n.classList.replace(g,j)}}function k(e){if(e.children.length>0){const n=e.el.querySelector(\".fas\");n&&n.classList.replace(j,g)}}function w(e){e.isExpanded?(e.isExpanded=!1,k(e),b(e)):(e.isExpanded=!0,S(e),E(e))}function L(e,n){n(e),e.children.length>0&&e.children.forEach((e=>{L(e,n)}))}function T(e={}){return{key:e.key||null,parent:e.parent||null,value:e.hasOwnProperty(\"value\")?e.value:null,isExpanded:e.isExpanded||!1,type:e.type||null,children:e.children||[],el:e.el||null,depth:e.depth||0,dispose:null}}function M(e,n){if(\"object\"==typeof e)for(let t in e){const r=T({value:e[t],key:t,depth:n.depth+1,type:h(e[t]),parent:n});n.children.push(r),M(e[t],r)}}function C(e){return\"string\"==typeof e?JSON.parse(e):e}function O(e){const n=C(e),t=T({value:n,key:h(n),type:h(n)});return M(n,t),t}function N(e,n){const t=C(e),r=createTree(t);return A(r,n),r}function A(e,n){const t=function(){const e=m(\"div\");return e.className=\"json-container\",e}();L(e,(function(e){e.el=function(e){let n=m(\"div\");const t=e=>{const n=e.children.length;return\"array\"===e.type?`[${n}]`:\"object\"===e.type?`{${n}}`:null};if(e.children.length>0){n.innerHTML=function(e={}){const{key:n,size:t}=e;return`\\n    <div class=\"line\">\\n      <div class=\"caret-icon\"><i class=\"fas fa-caret-right\"></i></div>\\n      <div class=\"json-key\">${n}</div>\\n      <div class=\"json-size\">${t}</div>\\n    </div>\\n  `}({key:e.key,size:t(e)});const r=n.querySelector(\".caret-icon\");e.dispose=function(e,n,t){return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}(r,\"click\",(()=>w(e)))}else n.innerHTML=function(e={}){const{key:n,value:t,type:r}=e;return`\\n    <div class=\"line\">\\n      <div class=\"empty-icon\"></div>\\n      <div class=\"json-key\">${n}</div>\\n      <div class=\"json-separator\">:</div>\\n      <div class=\"json-value json-${r}\">${t}</div>\\n    </div>\\n  `}({key:e.key,value:e.value,type:typeof e.value});const r=n.children[0];return null!==e.parent&&r.classList.add(x),r.style=\"margin-left: \"+18*e.depth+\"px;\",r}(e),t.appendChild(e.el)})),n.appendChild(t)}function P(e){L(e,(function(e){e.el.classList.remove(x),e.isExpanded=!0,S(e)}))}function $(e){L(e,(function(n){n.isExpanded=!1,n.depth>e.depth&&n.el.classList.add(x),k(n)}))}function z(e){var n;L(e,(e=>{e.dispose&&e.dispose()})),(n=e.el.parentNode).parentNode.removeChild(n)}const I={render:A,create:O,renderJSON:N,expand:P,collapse:$,traverse:L,destroy:z}})(),r})()}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*global chrome*/\nconsole.log('This is a popup!');\nimport jsonview from '@pgrabovets/json-view';\nimport { actions } from '../constants';\n\nconst elementIds = {\n    getCartButton: 'action-get-primary-cart',\n    createCartForm: 'create-cart-form',\n    additionalActionsPanel: 'additional-actions',\n};\n\nconst chromeTabsParams = { active: true, currentWindow: true };\n\nfunction renderJsonTree(data) {\n    const additionalActionsPanel = document.getElementById(elementIds.additionalActionsPanel);\n    document.querySelector('.json-container').innerHTML = '';\n    const tree = jsonview.create(data);\n    jsonview.render(tree, document.querySelector('.json-container'));\n    additionalActionsPanel.style.display = 'block';\n}\n\nchrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n    const currentTab = tabs[0];\n\n    chrome.runtime.sendMessage({ action: 'inject-content-script', tabId: currentTab.id }).then((response) => {\n        console.log(response.msg);\n    });\n});\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const createCartForm = document.getElementById(elementIds.createCartForm);\n\n    createCartForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        const formData = new FormData(e.target);\n        const { productId } = Object.fromEntries(formData);\n        console.log('productId is: ', productId);\n\n        if (!productId && productId.length === 0) {\n            alert(`Please enter a product id, example '103'`);\n            return;\n        }\n\n        chrome.tabs.query(chromeTabsParams, (tabs) => {\n            console.log('tabs are', tabs);\n\n            const { id } = tabs[0];\n\n            chrome.tabs.sendMessage(id, { action: actions.createCart, productId }).then((response) => {\n                renderJsonTree(JSON.stringify(response));\n\n                createCartForm.style.display = 'none';\n            });\n        });\n    });\n\n    // fetch cart on extension load\n    console.log('fetching cart');\n    chrome.tabs.query(chromeTabsParams, function (tabs) {\n        const currentTab = tabs[0];\n\n        chrome.tabs.sendMessage(currentTab.id, { action: actions.getCart }).then((response) => {\n            if (response.length === 0) {\n                createCartForm.style.display = 'block';\n\n                return;\n            }\n\n            renderJsonTree(JSON.stringify(response[0]));\n        });\n    });\n});\n"],"names":[],"sourceRoot":""}