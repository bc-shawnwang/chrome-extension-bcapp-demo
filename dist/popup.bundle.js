(()=>{var e={637:e=>{self,e.exports=(()=>{"use strict";var e={767:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([e.id,'.json-container{font-family:"Open Sans";font-size:16px;background-color:#fff;color:gray;box-sizing:border-box}.json-container .line{margin:4px 0;display:flex;justify-content:flex-start}.json-container .caret-icon{width:18px;text-align:center;cursor:pointer}.json-container .empty-icon{width:18px}.json-container .json-type{margin-right:4px;margin-left:4px}.json-container .json-key{color:#444;margin-right:4px;margin-left:4px}.json-container .json-index{margin-right:4px;margin-left:4px}.json-container .json-value{margin-left:8px}.json-container .json-number{color:#f9ae58}.json-container .json-boolean{color:#ec5f66}.json-container .json-string{color:#86b25c}.json-container .json-size{margin-right:4px;margin-left:4px}.json-container .hidden{display:none}.json-container .fas{display:inline-block;border-style:solid;width:0;height:0}.json-container .fa-caret-down{border-width:6px 5px 0 5px;border-color:gray transparent}.json-container .fa-caret-right{border-width:5px 0 5px 6px;border-color:transparent transparent transparent gray}',""]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],d=r.base?c[0]+r.base:c[0],l=a[d]||0,u="".concat(d," ").concat(l);a[d]=l+1;var p=t(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var m=o(f,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var c=r(e,o),d=0;d<a.length;d++){var l=t(a[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}a=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{t.r(r),t.d(r,{collapse:()=>P,create:()=>O,default:()=>A,destroy:()=>q,expand:()=>B,render:()=>N,renderJSON:()=>k});var e=t(379),n=t.n(e),o=t(795),a=t.n(o),i=t(569),s=t.n(i),c=t(565),d=t.n(c),l=t(216),u=t.n(l),p=t(589),f=t.n(p),m=t(767),h={};function v(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function y(e){return document.createElement(e)}h.styleTagTransform=f(),h.setAttributes=d(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=u(),n()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;const g="hidden",x="fa-caret-right",b="fa-caret-down";function j(e){e.children.forEach((e=>{e.el.classList.add(g),e.isExpanded&&j(e)}))}function E(e){e.children.forEach((e=>{e.el.classList.remove(g),e.isExpanded&&E(e)}))}function L(e){if(e.children.length>0){const n=e.el.querySelector(".fas");n&&n.classList.replace(x,b)}}function S(e){if(e.children.length>0){const n=e.el.querySelector(".fas");n&&n.classList.replace(b,x)}}function C(e){e.isExpanded?(e.isExpanded=!1,S(e),j(e)):(e.isExpanded=!0,L(e),E(e))}function T(e,n){n(e),e.children.length>0&&e.children.forEach((e=>{T(e,n)}))}function M(e={}){return{key:e.key||null,parent:e.parent||null,value:e.hasOwnProperty("value")?e.value:null,isExpanded:e.isExpanded||!1,type:e.type||null,children:e.children||[],el:e.el||null,depth:e.depth||0,dispose:null}}function w(e,n){if("object"==typeof e)for(let t in e){const r=M({value:e[t],key:t,depth:n.depth+1,type:v(e[t]),parent:n});n.children.push(r),w(e[t],r)}}function I(e){return"string"==typeof e?JSON.parse(e):e}function O(e){const n=I(e),t=M({value:n,key:v(n),type:v(n)});return w(n,t),t}function k(e,n){const t=I(e),r=createTree(t);return N(r,n),r}function N(e,n){const t=function(){const e=y("div");return e.className="json-container",e}();T(e,(function(e){e.el=function(e){let n=y("div");const t=e=>{const n=e.children.length;return"array"===e.type?`[${n}]`:"object"===e.type?`{${n}}`:null};if(e.children.length>0){n.innerHTML=function(e={}){const{key:n,size:t}=e;return`\n    <div class="line">\n      <div class="caret-icon"><i class="fas fa-caret-right"></i></div>\n      <div class="json-key">${n}</div>\n      <div class="json-size">${t}</div>\n    </div>\n  `}({key:e.key,size:t(e)});const r=n.querySelector(".caret-icon");e.dispose=function(e,n,t){return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}(r,"click",(()=>C(e)))}else n.innerHTML=function(e={}){const{key:n,value:t,type:r}=e;return`\n    <div class="line">\n      <div class="empty-icon"></div>\n      <div class="json-key">${n}</div>\n      <div class="json-separator">:</div>\n      <div class="json-value json-${r}">${t}</div>\n    </div>\n  `}({key:e.key,value:e.value,type:typeof e.value});const r=n.children[0];return null!==e.parent&&r.classList.add(g),r.style="margin-left: "+18*e.depth+"px;",r}(e),t.appendChild(e.el)})),n.appendChild(t)}function B(e){T(e,(function(e){e.el.classList.remove(g),e.isExpanded=!0,L(e)}))}function P(e){T(e,(function(n){n.isExpanded=!1,n.depth>e.depth&&n.el.classList.add(g),S(n)}))}function q(e){var n;T(e,(e=>{e.dispose&&e.dispose()})),(n=e.el.parentNode).parentNode.removeChild(n)}const A={render:N,create:O,renderJSON:k,expand:B,collapse:P,traverse:T,destroy:q}})(),r})()}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";var e=t(637),n=t.n(e);console.log("This is a popup!");const r={additionalActionsPanel:"additional-actions",createCartForm:"create-cart-form",createCartButton:"action-create-primary-cart",deleteCartButton:"action-delete-primary-cart",getCartButton:"action-get-primary-cart",loading:"loading"},o={buttonSpinner:"button-spinner",hidden:"hidden"};let a={};const i={active:!0,currentWindow:!0};function s(e){const t=document.getElementById(r.additionalActionsPanel);document.querySelector(".json-container").innerHTML="";const i=n().create(e);a.cartId=JSON.parse(e).id,n().render(i,document.querySelector(".json-container")),n().expand(i),t.classList.remove(o.hidden)}function c(){document.getElementById(r.loading).classList.add(o.hidden)}chrome.tabs.query({active:!0,currentWindow:!0},(function(e){const n=e[0];chrome.runtime.sendMessage({action:"inject-content-script",tabId:n.id}).then((e=>{console.log(e.msg)}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById(r.createCartForm),n=document.getElementById(r.deleteCartButton);console.log("aaaa"),console.log("aaaa",n),e.addEventListener("submit",(n=>{n.preventDefault();const t=document.getElementById(r.createCartButton),a=t.getElementsByClassName(o.buttonSpinner)[0],c=t.getElementsByTagName("span")[0],d=new FormData(n.target),{productId:l}=Object.fromEntries(d);console.log("productId is: ",l),l||0!==l.length?(c.innerText="Creating cart...",a.classList.remove(o.hidden),chrome.tabs.query(i,(n=>{console.log("tabs are",n);const{id:t}=n[0];chrome.tabs.sendMessage(t,{action:"create-primary-cart",productId:l}).then((n=>{e.classList.add(o.hidden),c.innerText="Create cart",a.classList.add(o.hidden),s(JSON.stringify(n))}))}))):alert("Please enter a product id, example '103'")})),n.addEventListener("click",(t=>{console.log(t);const s=n.getElementsByClassName(o.buttonSpinner)[0],c=n.getElementsByTagName("span")[0];c.innerText="Deleting cart...",s.classList.remove(o.hidden),chrome.tabs.query(i,(n=>{const{id:t}=n[0];chrome.tabs.sendMessage(t,{action:"delete-primary-cart",cartId:a.cartId}).then((n=>{e.classList.remove(o.hidden),e.reset(),c.innerText="Delete cart",s.classList.add(o.hidden),console.log("delete cart response",n);const t=document.getElementById(r.additionalActionsPanel);document.querySelector(".json-container").innerHTML="",a={},t.classList.add(o.hidden)}))}))})),console.log("fetching cart"),chrome.tabs.query(i,(function(n){const t=n[0];chrome.tabs.sendMessage(t.id,{action:"get-primary-cart"}).then((n=>{if(0===n.length)return e.classList.remove(o.hidden),void c();c(),s(JSON.stringify(n[0]))}))}))}))})()})();